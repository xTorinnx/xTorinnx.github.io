<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ðŸ’œCartaðŸ’œ</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Crimson+Text:wght@400;600&display=swap" rel="stylesheet">

  <style>
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family:'Crimson Text', Georgia, serif;
      background: radial-gradient(circle at 10% 10%, #efe7d6 0%, #f7f3ea 30%, #e8dfd0 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 40px;
    }

    /* CONTENEDOR DE LA CARTA (OCULTO AL INICIO) */
    #letterContainer {
      position: absolute;
      top:50%;
      left:50%;
      transform: translate(-50%, -50%) scale(0.94);
      width:100%;
      display:flex;
      justify-content:center;
      opacity:0;
      transition: opacity 1s ease;
      pointer-events:none;
    }

    .paper-wrap {
      width:900px;
      max-width:95%;
      background:linear-gradient(180deg,#f9f3e6 0%,#f2ead9 100%);
      padding:56px 64px;
      border-radius:12px;
      box-shadow:0 18px 40px rgba(20,20,20,0.25);
      border:1px solid rgba(0,0,0,0.06);
      position:relative;
      overflow:hidden;
      margin:auto;
    }

    .paper-wrap::before {
      content:"";
      position:absolute;
      inset:0;
      background-image:radial-gradient(circle at 20% 10%, rgba(0,0,0,0.02), transparent 4%),
                       radial-gradient(circle at 80% 90%, rgba(0,0,0,0.01), transparent 6%);
      opacity:0.6;
      pointer-events:none;
    }

    header {
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:22px;
    }

    .crest {
      font-family:'Playfair Display', serif;
      font-weight:700;
      font-size:28px;
      letter-spacing:2px;
      color:#670296;
    }

    .date { font-size:14px;color:#5b4b3c; }

    .letter-body {
      line-height:1.7;
      color:#521852;
      font-size:18px;
    }

    .greeting {
      font-family:'Playfair Display',serif;
      font-size:28px;
      margin:8px 0 6px;
    }

    .body-text p:first-of-type {
      display:flex;
      gap:14px;
      align-items:flex-start;
    }

    .dropcap {
      font-size:64px;
      font-weight:700;
      color:#521852;
      font-family:'Playfair Display',serif;
    }

    .signature {
      margin-top:28px;
      font-family:'Playfair Display',serif;
      font-size:20px;
      color:#670296;
    }

    /* SELLO VISIBLE AL INICIO */
    #sealBtn {
      position:relative;
      width:120px;
      height:120px;
      border-radius:50%;
      background:radial-gradient(circle at 30% 30%, #b33 0%, #7a0b0b 60%);
      box-shadow:0 6px 18px rgba(122,11,11,0.45), inset 0 -6px 18px rgba(0,0,0,0.2);
      border:none;
      cursor:pointer;
      font-size:32px;
      color:#ffd9d9;
      font-family:'Playfair Display', serif;
      display:flex;
      align-items:center;
      justify-content:center;
      transition:.3s;
      z-index:10;
    }

    #sealBtn:hover {
      transform:scale(1.05);
    }

    /* SOLO PARA EL EFECTO DE SELLO */
    #sealBtn.ripple::after {
      content:"";
      position:absolute;
      inset:-6px;
      border-radius:50%;
      box-shadow:0 0 0 6px rgba(255,215,215,0.15);
      animation:ripple 1s ease-out;
    }

    @keyframes ripple {
      from { transform:scale(0.8); opacity:0.8 }
      to   { transform:scale(1.8); opacity:0 }
    }

    .controls { display:none; }

  </style>
</head>

<body>

  <!-- SELLO INICIAL -->
  <button id="sealBtn">D</button>

  <!-- CARTA (OCULTA AL INICIO) -->
  <div id="letterContainer">
    <main class="paper-wrap">

      <header>
        <div class="crest">Patito</div>
        <div class="date" id="date">A la fecha</div>
      </header>

      <article class="letter-body">

        <div class="greeting">Mi reina preciosa</div>

        <section class="body-text" id="letterText">
          <p>
            <span class="type" data-full="
Mi vida preciosa te escribo esta cartica para expresarte el amor inmenso que te tengo, tu sonrisa ilumina mis dias, tu voz es algo que jamas me cansare de escuchar, debes ver como se me iluminan mis ojos cuando veo una foto tuya, o como sonrio cuando te escucho reir
            "></span>
          </p>

          <p>
            <span class="type" data-full="
Lo que mas admiro de ti es la paciencia que me tienes, no solo a la hora de escuchar mis pendejadas, sino tambien cuando no entiendo una referencia, no solo es la paciencia sino es la forma en que siempre sales a delante, eres una persona que admiro demasiado, no solo por lo que ya mencione, sino por miles de factores mas, tu creatividad, tu forma de ser directa es lo que mas me encanta de ti mi reina
            "></span>
          </p>

          <p>
            <span class="type" data-full="
Mi cielo, el amor que yo siento hacia ti es algo que no se puede cuantificar, es como el numero pi infinito e irracional, infinito porque nunca me cansare de amarte, siempre voy a seguir amandote hasta mi ultimo aliento, e irracional ya que los dos somos personas bastantes espontaneas, somos personas que solemos cometer muchas locuras, nosotros no le tenemos miedo al exito, como se dice actualmente entendemos nuestra vibra, nuestra vibra no es solo cometer locurar es escuchar atentamente un chisme, es mirarnos con nuestros ojos de complices, es pedir dos cosas diferentes del menu para probar mas, son tantas cosas que hacen que nuestra vibra sea unica y diferente, por eso te amo tanto, porque nos leemos los pensamientos muchas veces, y nunca me cansare de decirlo Ti Amo Mi Pingu ðŸ§
            "></span>
          </p>

          <div class="signature">
            Con mucho amor<br><strong>Tu pequeÃ±o patito ðŸ¦†</strong>
          </div>
        </section>

      </article>
    </main>
  </div>


  <script>
    /* FECHA AUTOMÃTICA */
    (function(){
      const d = new Date();
      const month = ['enero','febrero','marzo','abril','mayo','junio','julio','agosto','septiembre','octubre','noviembre','diciembre'];
      document.getElementById('date').textContent =
        d.getDate() + ' de ' + month[d.getMonth()] + ' de ' + d.getFullYear();
    })();


    /* TIPEAR TODOS LOS PÃRRAFOS */
    function typeAllParagraphs() {
      const spans = document.querySelectorAll(".type");
      let index = 0;

      function typeNext() {
        if (index >= spans.length) return;

        const el = spans[index];
        const text = el.dataset.full.trim();
        el.textContent = "";

        let i = 0;
        const speed = 25;

        const writing = setInterval(() => {
          el.textContent += text.charAt(i);
          i++;
          if(i >= text.length){
            clearInterval(writing);
            index++;
            setTimeout(typeNext, 400);
          }
        }, speed);
      }

      typeNext();
    }


    /* MOSTRAR CARTA + ANIMACIÃ“N */
    const seal = document.getElementById("sealBtn");
    const carta = document.getElementById("letterContainer");

    seal.addEventListener("click", () => {
      seal.classList.add("ripple");

      setTimeout(() => {
        seal.style.display = "none";      // quitar el sello
        carta.style.opacity = "1";        // mostrar carta
        carta.style.pointerEvents = "auto";
        typeAllParagraphs();              // comenzar a escribir
      }, 1200);
    });

  </script>

</body>
</html>
